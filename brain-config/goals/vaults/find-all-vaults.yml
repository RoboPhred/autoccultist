name: Explore SH lore

completedWhen:
  anyOf:
    - noneOf:
        - aspects:
            lore: 1
            secrethistories:
              greaterThanOrEqualTo: 2
    - cardSet:
        - elementId: vaultcapitaldefault
        - elementId: vaultshiresdefault
        - elementId: vaultcontinentdefault
        - elementId: vaultrendingmountainsdefault
        - elementId: vaultlandbeyondforestdefault
        - elementId: vaultloneandlevelsandsdefault
        - elementId: vaulteveningislesdefault

impulses:
  #  - name: Collect Secret Histories lore
  #    forbidders:
  #      anyOf:
  #        - elementId: vaultcapital4
  #        - elementId: fragmentsecrethistories
  #          # Ignore the one being searched, in case it doesn't find anything
  #          location: tabletop
  #    # forbidders:
  #    #   anyOf:
  #    #     - cardSet:
  #    #         - aspects: { vaultcapital: 1 }
  #    #         - aspects: { vaultcapital: 1 }
  #    #         - aspects: { vaultcapital: 1 }
  #    #         - aspects: { vaultcapital: 1 }
  #    #         - elementId: fragmentsecrethistories
  #    #     - cardSet:
  #    #         - aspects: { vaultcapital: 1 }
  #    #         - aspects: { vaultcapital: 1 }
  #    #         - aspects: { vaultcapital: 1 }
  #    #         - elementId: fragmentsecrethistories
  #    #         - elementId: fragmentsecrethistories
  #    #     - cardSet:
  #    #         - aspects: { vaultcapital: 1 }
  #    #         - aspects: { vaultcapital: 1 }
  #    #         - elementId: fragmentsecrethistories
  #    #         - elementId: fragmentsecrethistories
  #    #         - elementId: fragmentsecrethistories
  #    #     - cardSet:
  #    #         - aspects: { vaultcapital: 1 }
  #    #         - elementId: fragmentsecrethistories
  #    #         - elementId: fragmentsecrethistories
  #    #         - elementId: fragmentsecrethistories
  #    #         - elementId: fragmentsecrethistories
  #    #     - cardSet:
  #    #         - elementId: fragmentsecrethistories
  #    #         - elementId: fragmentsecrethistories
  #    #         - elementId: fragmentsecrethistories
  #    #         - elementId: fragmentsecrethistories
  #    #         - elementId: fragmentsecrethistories
  #    #     - elementId: vaultcapital4
  #    operation: !import ../../operations/mansus/use-wood-secrethistories.yml

  - name: Find Capital vaults
    forbidders:
      elementId: vaultcapitaldefault
    operation:
      name: Find Capital vaults
      situation: explore
      startingRecipe:
        slots:
          explore:
            elementId: fragmentsecrethistories

  - name: Find Shires vaults
    forbidders:
      elementId: vaultshiresdefault
    operation:
      name: Find Shires vaults
      situation: explore
      startingRecipe:
        slots:
          explore:
            elementId: fragmentsecrethistoriesb

  - name: Find Continent vaults
    forbidders:
      elementId: vaultcontinentdefault
    operation:
      name: Find Continent vaults
      situation: explore
      startingRecipe:
        slots:
          explore:
            elementId: fragmentsecrethistoriesc

  - name: Find Mountains vaults
    forbidders:
      elementId: vaultrendingmountainsdefault
    operation:
      name: Find Mountains vaults
      situation: explore
      startingRecipe:
        slots:
          explore:
            elementId: fragmentsecrethistoriesd

  - name: Find Forest vaults
    forbidders:
      elementId: vaultlandbeyondforestdefault
    operation:
      name: Find Forest vaults
      situation: explore
      startingRecipe:
        slots:
          explore:
            elementId: fragmentsecrethistoriese

  - name: Find Sands vaults
    forbidders:
      elementId: vaultloneandlevelsandsdefault
    operation:
      name: Find Sands vaults
      situation: explore
      startingRecipe:
        slots:
          explore:
            elementId: fragmentsecrethistoriesf

  - name: Find Isles vaults
    forbidders:
      elementId: vaulteveningislesdefault
    operation:
      name: Find Isles vaults
      situation: explore
      startingRecipe:
        slots:
          explore:
            elementId: fragmentsecrethistoriesg
